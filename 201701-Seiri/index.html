<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>コロンブス日和 - HashInfo</title>
    <style type="text/css">
      body {
        background-color:#ffffff;
        font-size:12;
        font-family: "Hiragino Kaku Gothic ProN","メイリオ", "sans-serif";
      }
      a { text-decoration: none; }
      li.bold { font-weight: bold; }
      div.body { width:340pt; }
      div.left { float:left; width:10%; font-weight:bold;}
      div.right { width:50%;}
      h1 { background-color:#4d4; padding:8pt;}
      code { background-color:#eee; }
      pre { background-color:#eee; }
    </style>
    <script type="text/javascript">
    //setTimeout("location.reload()",1000*5);
    </script>
  </head>

  <body>
    <div class='body'>
      <h1>コロンブス日和 - フラット整理法</h1>

      今回は単純で役にたつ整理のためのテクニックを紹介したいと思います。

      <br/>
      私は整理が極端に苦手で、
      計算機ファイルの整理や小物の整理に毎日苦しんでいます。
      そういう人が整理法について語るのは変かもしれませんが、
      何かが下手な人ほど
      それを克服するための工夫に苦労しているはずですから、
      良い方法を発明する可能性は高いはずです。

      得意な人が改良案を思いつくのは難しいでしょう。

      <!--
      自分が得意な分野については改良案などを考えられないものだといいますから
      反転の法則
      私が整理術について述べるのは正しいことだといえるでしょう。
	-->

      <h2>階層脳の恐怖</h2>

      引き出しや箪笥の中に
      置き場所を決めて小物を整理したり、
      階層的なフォルダを使って
      ファイルを整理したりしている人は多いと思いますが、
      現代においてそれは最善の整理方法でしょうか?

      <br/>
      なんでも階層的に分類して格納するものだと思っていたり、
      ファイルは階層的なフォルダで管理するのが当然と考えている人は
      「階層脳」を持っているのだと思われます。

      <blockquote>
	<img src="https://gyazo.com/c238908a9f35a58dfabefb37981e1134.png" width=300><br>
	階層脳のイメージ
      </blockquote>

      以前の記事で、
      大規模な階層的データを検索したりナビゲーションしたりする方法として、
      「DragZoom」や「Gear」のようなシステムを紹介しました。
      大きなデータは階層的に構成されていることが多いため
      このようなシステムが有用なわけですが、
      実は
      これらのシステムで扱っていたデータはすべて
      <b>専門家によって用意された定形的なデータ</b>であり、
      個人が扱う雑多なものではありませんでした。

      <h3>階層管理の問題点</h3>

      住所や電話番号のように明らかに階層的な構造をもつものは
      階層的に管理するのは難しくありませんが、
      様々な属性をもつ雑多なデータや物品を
      階層的に管理するのは難しいものです。

      A社のBという製品に関する問合せ書類はどういうフォルダに入れるべきでしょうか。
      A社フォルダでしょうか?
      B製品フォルダでしょうか?
      問合せフォルダでしょうか?

      また、旅行先で買った便利なナイフはどの箱に入れるべきでしょうか。
      思い出箱でしょうか? 文房具箱でしょうか? 旅行用品でしょうか?

      <p/>
      属性がはっきりしない場合もあります。
      動物を分類しようとするとき、
      コウモリは獣に分類すべきか鳥に分類するべきか困るかもしれませんが、
      分類作業にはこういう「こうもり問題」がつきものです。

      図書館のように専門の職員がいる場所であっても、
      変な分類をされていて困ることもあります。
      コンピュータに関するエッセイは文学として分類すべきなのか
      技術書として分類すべきかは悩むでしょうし、
      図書館の利用者も困ってしまうでしょう。

      世の中の多くのものは階層的に管理することが難しいので
      階層構造を仮定した検索手法や整理法はうまくいきません。

      <!--
      YesかNoかで答えることができない問題というものがある
      分類AかnotAか答えられないものもあるか?
      文章に対して「それは重要か?」みたいな
      そんなのわからないから
	-->

      <h2>フラット整理術</h2>

      Webの巨大なデータは階層的に管理されていませんが、
      Googleなどのテキスト検索で大抵の情報はみつかりますから
      階層的でないことを問題だと思っている人はいないでしょう。
      つまり「検索できれば階層的整理は必要ない」ということになります。

      <br/>
      Webの黎明期には
      Webページを階層的に整理するサービスが沢山ありましたが、
      現在はほとんどすたれてしまいました。
      階層的な分類作業が大変になりすぎたからかもしれませんが、
      階層的な管理がそれほど有用と思われなくなってきたからだろうと思います。

      <p/>
      Webを階層的整理サービスでは、
      こうもり問題に対応するため、
      同じデータをあちこちに置くという方法がとられていました

      たとえば
      横浜のラーメン屋のページは、
      「横浜」というカテゴリにも
      「ラーメン」というカテゴリにも登録されるようになっていました。

      一方、
      現在は「横浜」「ラーメン」のようなキーワードで検索すれば
      簡単に情報にたどりつけますし、
      横浜レストラン情報やラーメンランキングのようなサイトがいくらでもありますから
      階層的な分類を行なう検索サービスの存在価値は
      現在はほとんど存在しないだろうと想像できます。

      <p/>
      Webページを階層管理できないということは、
      個人のファイルや所有物を階層管理できないのと同じで、
      均質でわかりやすい構造をもつデータ以外は
      階層管理にはむかないということになるでしょう。

      個人のものの場合、
      レストラン情報やラーメンランキングのようなまとめサイトを期待することはできませんが
      そもそもすべて自分が持っていたものですし、
      情報がみつかるならばそういうものは必要ありません。
      有ったはずの情報が必ずみつかるのであればそれでいいでしょう。

      階層的に管理すべきであるという「階層脳」から奪却し、
      フラットな構造でもうまく検索できる方法を利用すべきだと考えられます。

      <!--
      図書館では10進
      図書館でコンピュータに関する本を捜そうとするとき、
      いろんなよくわからない分類コードになっているため
      とても捜すのが難しくなっています。
	-->

      <h2>計算機情報のフラット整理</h2>

      Gyazoと芋蔓でフラット検索

      Unixで階層的ファイルシステムが導入されて以来、
      ディレクトリをうまく作ってデータを管理するのがあたりまえだと考えられている気がします。


      <ol>
	<li>適当なユニークな名前をつけてひとつの場所に置いてしまう</li>

	階層的なフォルダを利用せず、

	ファイル名はユニークであれば何でもよい

	<li>ファイルには任意のタグやコメントをつける</li>

	内容を表現するファイル名を工夫するという整理法もあるようですが、
	xxx案件に関するY社企画書-2016-12-1
	のようなファイル名は長すぎて扱いづらいですし、
	内容を完全に表現しているわけでもないので、
	こういうものはタグやコメントとしてファイルに関連づけておく方がいいです。

	<li>似たタグをもつファイルを関連ファイルとして表示する</li>

	ファイルはコメントやタグから検索することができますが、
	似たコメントやタグをもつファイルを関連ファイルとして検索できるように
	しておくと便利です。

	ある日に作成したファイルがあるとき、
	同じ日に作成したファイルが関連ファイルとして検索できると便利です。
      </ol>

      タグをつけたりタグで検索したり
      似たファイルを検索したりするのは面倒そうですが、
      実はこれらの機能は
      xxx月号で紹介したGyazoで提供しています。

      Gyazoでは、
      アップロードしたファイルに対して
      タグやコメントを付加したり
      関連検索したりすることが簡単にできるので、
      あらゆるファイルをGyazoで管理してしまえば
      上の要件はすべてみたされてしまいます。

      <h3>Gyazoによるファイル管理</h3>

      あらゆるファイルはクラウドにアップロードしてユニークなURLを付加し、
      それを利用して管理してしまえばいいでしょう。

      よくわからないファイルを管理する手順は以下のようになります。

      <ol>
	<li>ファイルをクラウドにアップロードしてユニークなURLを取得する</li>
	<li>ファイルの中身をGyazoでキャプチャし、このURLやコメント/タグを記述しておく</li>
      </ol>

      これをやるだけで、
      フォルダや階層などを全く気にすることなく
      あらゆるファイルを管理が可能になります。

      <h4>ファイルのアップロード</h4>

      後で必要になる可能性のあるファイルはすべて
      ユニークなIDをつけてクラウドにアップロードしておきます。
      クラウドにアップロードする方法はいろいろありますが、
      Dropboxを使うとかなり簡単にアップロードできます。
      Dropbox...masui....jpg
      のような

      Dropboxはファイルサイズの制限があるので、
      私はAmazon S3に置くようにしています。
      s3cmd...


      <h4>例1: メールでもらった写真を管理する</h4>

      どこに整理すればよいかわからない写真はとりあえず
      uploadコマンドでアップロードしておきおきます。
      その後、写真をGyazoでキャプチャして
      そのコメントにURLとタグなどを書いておきます。

      私の場合、まず以下のようにuploadコマンドを起動して
      写真をS3にアップロードします。

      <pre>
	% upload CIMG0123.JPG
	http://masui.org/123456788/jpg
	%
      </pre>

      uploadコマンドはS3のURLを返さず
      http://masui.org/123456.jpg
      のようなURLを返しますが、
      masui.orgの方で
      このようなアドレスをS3にフォワードするようにしています。

      Apacheの場合は.htaccessに以下のような簡単な記述を用意しておくだけです。
      RewriteRule ^(([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F]{30}\..*))$ http://masui.org.s3.amazonaws.com/$2/$3/$1


      この結果、Gyazoは以下のようになります。
      
      ここでコメントとして...を書くと
      Gyazo.com上でその文字列で検索できますし、
      IvySearch機能のおかげで
      以下のように関連ファイルが表示されます。

      申請書をすぐにみつける

      お詫びのメールを捜す


      <h2>身のまわりのフラット整理</h2>

      前述の方法であらゆるファイルをフラットに管理できるようになるのですが、
      書類や小物はどうすれば良いでしょうか。

      実は書類や小物は
      もっと簡単に整理できます

      <h3>クリアファイル整理</h3>

      書類の管理は面倒なものです。
      普通の家庭でも、
      製品のマニュアルだの保証書だの
      クレジットカード明細だの
      領収書だの
      保険の書類だの、
      医療費明細だの、
      沢山の書類を整理する必要がありますが、
      こういったものを綺麗に分類して管理するのは大変です。

      <p/>
      雑多な書類を楽に提案する方法として、
      20年ぐらい前、
      野口悠紀雄氏が提案する
      「超整理法」
      という書類整理手法がかなり話題になったことがあります。

      https://www.amazon.co.jp/dp/4121011597

      「超」と言っていますが

      分類脳/階層脳の人は
      これでうまくいくことに驚いたことだろうと思います。

      分類は無駄だ

      分類するには、手間と時間がかかる。まず、分類項目の設定と命名の頭
      を悩まさねばならない。また、個々の書類をどの項目に入れるか、いち
      いち判断する必要がある。

      <ol>
	<li>タイトルを書いたA4の封筒(角形2号封筒)に資料を入れて棚に並べる</li>
	<li>資料を使ったらは必ず一番端に戻す</li>
      </ol>

      という単純なものです。

      キャッシュ処理に似ているかもしれない

      この結果、

      <ul>
	<li>よく使う資料が端に集まる</li>
	<li>使わない資料は逆の端に集まる</li>
      </ul>

      ことになります。

      よく使う資料は端にある可能性が高いのですぐみつかりますし、
      逆の端にたまってきた使わない資料は廃棄を検討することができます。
      
      <p/>
      この方法は確かに簡単なうえに
      分類の必要がないという大きなメリットがあるので
      非常に話題になりました。

      現在もこの方法を利用している人も多いようですが、
      この方法には以下のような問題がある気がしています。

      <ul>
	<li>封筒にタイトルを書くのが面倒臭い</li>
	<li>封筒の中身が見えない</li>
	<li>滅多に使わない古いファイルを捜すのに時間がかかる</li>
	<li>古いファイルの存在に気付かず同じファイルを作ってしまう可能性がある</li>
	<li>角形2号封筒のサイズはA4書類よりかなり大きいのでA4用の棚で整理しにくい</li>
      </ul>

      現在は計算機やネットワークが充分普及しており、
      「超整理法」が執筆された1993年とは状況がかなり異なっていますから、
      以下のような方法の方が良いと思っています。

      <ul>
	<li>大きく番号を書いた透明クリアファイルに書類を入れる</li>
	<li>クリアファイルを番号順に並べる</li>
	<li>番号と中身の対応をテキストファイルやWikiなどに書いておく</li>
      </ul>

      私は数年にわたってこの「クリアファイル整理法」を実践しており、
      実用的に利用しています。

      番号を最初は手書きしていましたが、
      最近は印刷したシールを貼るようにしています。

      <blockquote>
	<img src="https://gyazo.com/93e414716d47e174bb5c78f5c11ae210.png" width=300/>
      </blockquote>

      これは非常に単純な方法ですが、以下のようなメリットがあります。

      <ul>
	<li>タイトルやキーワードを書く必要がない</li>
	<li>テキスト検索すればどの番号のクリアファイルに何が入ってるかすぐわかる</li>
	<li>大きさがA4に揃っているのでA4用の箱や棚で整理しやすい</li>
	<li>透明なので中身を確認しやすい</li>
	<li>番号順に並んでいるので、整理/検索しやすい</li>
	<li>書類の属性やコメントなどをいくら記述してもかまわない (e.g. レシート/領収書/確定申告用/etc.) </li>
      </ul>

      超整理法の時代にはタイトルや中身の情報を書く必要があったので
      封筒を利用する必要がありましたし、
      沢山の情報を書くことはできませんでした。
      クリアファイルには番号だけ書いておけばいいわけですし、
      テキストファイルにはいくらでも情報を書いておくことができます。

      <p/>
      この「クリアファイル整理法」はあまりにも単純なので、
      こんなものでうまくいくのか?
      こういう方法をサポートする文房具や検索システムが売られているのではないか?
      などと思ったものですが、
      意外とそういう製品は存在しませんでしたし、
      この方法はとてもうまくいくことがわかりました。

      野口氏は最近のインタビューにおいて
      「目当ての情報がすぐ見つかるのであれば、
      わざわざ整理に時間や手間をかけることはありません。
      その方法論の基本は、『分類しない』ことです」
      と言っています。
      (PHP Buiness "The 21") 2016/11
      これは実に私の考えと一致しているのですが、
      計算機を併用することによって
      超整理法を改良することはやっていないようです。

      <p/>
      番号と中身の対応を書くのが面倒だという問題はありますが、
      封筒に手書きするよりは楽ですし、
      後で検索するのが楽であることを考えると
      テキストファイルに書く方がはるかに便利でしょう。

      <h3>箱整理</h3>

      クリアファイルに入れにくい小物は、
      番号を書いた箱に入れるようにすれば
      クリアファイルの場合と同じように整理を行なうことができます。
      箱や引き出しでものを整理する場合、
      カテゴリを決めて格納したくなるものですが、
      箱の中身をきちんと記述しておくことに気をつけておけば
      きちんと分類する必要はないでしょう。

      たとえば普通は「防災用品」とか「登山用品」とかいった
      箱を用意してきちんと分類してモノを分類して格納したくなりますが、
      1番の箱にはアイゼン、4番の箱には懐中電灯
      などと書いて
      分類についてあまり気にせず放り込んでしまうのが良いと思います。
      懐中電灯は防災用品か登山用品かわからないからです。

      <h2>もの捜しのエントロピー</h2>

      ものを捜す頻度と、捜すのにかかる手間がわかれば
      
      飯田氏はこれを収納指数と呼んでいる

      単語の長さと出現頻度の情報からテキストを圧縮できるのと同じように、
      検索行動にかかる時間と検索の頻度から人間の作業を圧縮することができます。

      よく使うものを手元に置いておくのは常識だと思いますが、
      それをきちんと計算して最適なものを求めることができるでしょう。

      飯田氏は、ハシなどの食器やよく使う調味料は食卓に置くことを提案しています。
      ハシやフォークを食器棚に入れている人は多いと思いますが、
      毎度の食事のたびに食器棚から端を出して食卓に持ってくるのは確かに無駄な作業でしょう。

      たいていのものは食器ほど頻繁に使わないでしょうが、
      使用頻度は大きく違う(おそらく冪分布する)ので、

      (計算するとわかるんじゃないか)
      利用頻度が冪分布するデータがあたとき、それを最適にするにはどうするか
      よく使うものから順番に近くに置くのがいいと思われる


    </div>
  </body>
</html>


<!--
家事のエントロピー
https://scrapbox.io/toshiyukimasui/%E5%AE%B6%E4%BA%8B%E3%81%AE%E3%82%A8%E3%83%B3%E3%83%88%E3%83%AD%E3%83%94%E3%83%BC
-->
