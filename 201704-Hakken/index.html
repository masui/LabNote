<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>コロンブス日和 - 発見プログラミング</title>
    <style type="text/css">
      body {
        background-color:#ffffff;
        font-size:12;
        font-family: "Hiragino Kaku Gothic ProN","メイリオ", "sans-serif";
      }
      a { text-decoration: none; }
      li.bold { font-weight: bold; }
      div.body { width:340pt; }
      div.left { float:left; width:10%; font-weight:bold;}
      div.right { width:50%;}
      h1 { background-color:#4d4; padding:8pt;}
      code { background-color:#eee; }
      pre { background-color:#eee; }
    </style>
    <script type="text/javascript">
    //setTimeout("location.reload()",1000*5);
    </script>
  </head>

  <!--
      遺伝的プログラミング
    -->

  <body>
    <div class='body'>
      <h1>コロンブス日和 - 発見プログラミング</h1>

      「コロンブスの卵」的なシステムをいろいろ紹介してきたこの連載も
      今回が最終回になりました。

      コロンブスといえば「発見」ですが、最終回の今回は
      プログラミングと発見に

      <h2>発想と発見</h2>

      エンジニアも作家のように
      新しくて面白いものを考えなければならない人は
      発明や発見をするためにいつも頭を使っていると思います。

      発想法については沢山の本が出版されており、
      発想大全
      という本には30個以上の手法が解説されています。

      KJもマンダラートなかったか

      発想を得るためには人間が時間をかけて努力する必要があります。
      多くのやり方を考えたり試行錯誤したりが必要です。
      
      前回のScrapboxでは
      少しでも関連のある情報を柔軟に思い出すことによって
      発想支援できるようになっています。
      
      発想の一部でも計算機にやらせることができれば
      アイデアの元が自動的に計算されれば素晴らしいでしょう。
      

      <h2>プログラミングと発見</h2>

      プログラムを書いて動かすとき、
      多くの場合は予想に近い結果が出てほしいものであり、
      おかしな結果が出たときはバグがあると思うのが普通かもしれません。


      失敗から発見したというエピソードは沢山あります。
      要するに「何かを沢山試さなければ新しい発見はない」ということでしょう。

      しかし、
      プログラムを書いて動かすことによって
      意外なことが起きることによって
      新しい発見があることもありますし、
      問題の答を発見できることもあります。

      <p/>
      発見的プログラミングと呼びます。

      <p/>
      今回は、
      前回紹介したScrapboxの上に書いたJavaScriptコードを
      ブラウザで実行します。

      Scrapboxにはコード記法というものがあり、
      プログラムのようなテキストデータをブロック表示して
      ファイルとして外部からURLでアクセスすることができます。
      これを使えば、
      Scrapbox上に書いたプログラムをブラウザ上で実行することができるというわけです。

      <!--
	  解の発見
	    数えあげ関数
	    expand_ruby
              1,2,...,9の並びと加減算で100を作る
	  乱数で何かを発見
	    8-Queenとか
	      交換するだけでもとける
	    進化的プログラミング
	  乱数の性質(分布)の発見
            面白い性質を発見
            正規分布、べき分布
              収入1.2/0.8
	  乱数の片寄りの発見
	    戦争ゲーム
	    正弦
     
	  トーナメント問題
  	  https://scrapbox.io/prog-exercises/%E3%83%88%E3%83%BC%E3%83%8A%E3%83%A1%E3%83%B3%E3%83%88%E5%95%8F%E9%A1%8C

	  発想の発見 アルゴリズムの発見
            三題話発想、 いらすとや発想
	-->

      <h3>解の発見</h3>

      算数の問題を解くときは
      理屈を考えてから計算するのが普通です。

      たとえば
      <!-- t = 10 k = 20 10 * 2 + 4 * 20 -->
      「鶴と亀があわせて30匹いて、足の数を数えると100本でした。鶴と亀は何匹いたでしょう?」
      のような
      「つるかめ算」を解く場合、
      「全部が鶴だとすると足の数は60本で、全部が亀だとすると120本になるから...」
      のようにつるかめ算で解くやりかたもありますし、
      t+k = 30 2t+4k=100
      のような一次方程式を使うこともできます。
      方程式に関する知識があれば普通はこのような式を使って計算するでしょうが、
      プログラムを書けば
      数学的知識がなくても答を得ることができます。

      <pre>
      int tsuru, kame;
      for(tsuru=0;tsuru<=30;tsuru++){
        kame = 30 - tsuru
	if(tsuru * 2 + kame * 4 == 100) break;
      }
      </pre>

      つるかめ算を解くのにこういうプログラムを書く人は少ないと思いますが、
      このように総当り式で計算する方が有利な場合もあります。
      もし問題が「足の数が100本以上でした」のようなものであった場合、
      一次方程式で普通に解くことはできませんが、
      上のような方法ならすべての解を網羅できてしまいます。

      つまり、論理的に頑張って解を解けなくても、
      簡単なプログラムを書くことによって解が得られてしまうことになります。

      <p/>
      世の中の問題は「つるかめ算」のように簡単なものばかりだとは限りません。
      複雑な制約や条件があるとき解を求めようとすると、
      力技的なプログラミングで答を発見する方が有効かもしれません。

      1,1 1,2 2,1 1,3 2,2 3,1 ....

      のようにすれば総数がわからない場合でも確実にみつけることができる

      <h3>乱数で発見</h3>

      つるかめ算の場合は解の候補を数えあげればいつかはみつかりますが、
      総あたりで発見が難しい場合は
      乱数を使って試行錯誤的に発見することができます。

      試行錯誤的に答をみつけるのは人間がいつもやってる

      進化的プログラミング
      

      <h3>乱数の性質の発見</h3>

      ゲームやシミュレーションでは「一様乱数」がよく利用されます。
      JavaScriptの場合、
      <code>Math.random()</code>
      という関数を呼ぶと
      0から1までのランダムな実数が返ります。
      たとえばrandom()が0.1以下の値を返す確率は1/10です。

      <p/>
      ここまでは普通の話ですが、
      random()で生成した座標に
      を使って点を表示してみると下の図のようになり、
      あんまり一様な感じはしません。

      <blockquote>
	乱数によるプログラム
      <blockquote>

      <blockquote>
	乱数による図
      <blockquote>

      一様な乱数というと下のようなイメージを連想してしまいますが、
      本当の乱数はこうならないことが発見できるのが面白いと思います。

      ここではブラウザ上のJavaScriptで描いたものです。
      CanvasやSVGを利用すると
      JavaScriptでブラウザ上に絵を描くことはできますが、
      これを極端に簡単にした
      P5.js
      というシステムを利用しています

      <blockuqote>
	P5.jsによるプログラム
      </blockquote>
      

      <blockquote>
	<img src="https://gyazo.com/8de4287c0b9ec3333b39ce3078c9f6c3.png" width=300>
      </blockquote>

      <h3>乱数の性質の発見</h3>

      シミュレーションやゲームなどのプログラムでは
      乱数がよく利用されますが、

      乱数とはどのようなものかについては
      エンジニアであれば誰でもなんとなくイメージを持っていると思いますが、
      乱数を実際に視覚化してみると
      様々な発見があります。

      <h4>中心極限 - 正規分布</h4>

      いくつかの乱数の平均をとると何が起こるでしょうか?

      ランダムなものをいくら集めてもランダムに決まっているだろうと思うかもしれませんが、
      実は一様な乱数を沢山集めたものは一様乱数にならず、
      正規分布に近付くことが
      中央極限定理として
      知られています。
      ふたつのサイコロをふった場合、
      その数の和が2や12になる確率よりも
      7になる確率の方が大きいだろうということは直感的にわかりますが、
      一様乱数を足した場合も同じだということは
      よく考えないとわからないかもしれません。

      そういう場合、
      何も考えなくても
      プログラムで実行してみれば

      <h4>冪分布</h4>

      平均値と中央値

      <h3>片寄りの発見</h3>
	
      逆正弦

      戦争ゲーム

      宝クジ

      じゃんけん

      <h2>対戦結果の発見</h2>

      <h2>おわりに</h2>

      今回紹介したプログラムはすべて
      Scrapbox上に置いてあり、
      ブラウザ上で実行することができます。
      
    </div>
  </body>
</html>


