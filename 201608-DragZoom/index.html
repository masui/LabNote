<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>コロンブス日和 - ExpandHelp</title>
    <style type="text/css">
      body {
        background-color:#ffffff;
        font-size:12;
        font-family: "Hiragino Kaku Gothic ProN","メイリオ", "sans-serif";
      }
      a { text-decoration: none; }
      li.bold { font-weight: bold; }
      div.body { width:340pt; }
      div.left { float:left; width:10%; font-weight:bold;}
      div.right { width:50%;}
      h1 { background-color:#4d4; padding:8pt;}
      code { background-color:#eee; }
      pre { background-color:#eee; }
    </style>
    <script type="text/javascript">
    //setTimeout("location.reload()",1000*5);
    </script>

  </head>

  <body>
    <div class='body'>
      <h1>コロンブス日和 - DragZoom</h1>
      
      <h2>大規模データの検索と閲覧</h2>

      世の中には様々な種類の大規模データが存在しますが、
      きちんとした管理者が存在するデータは
      階層的な構造で管理されているのが普通です。
      地名や電話番号やドメイン名などは厳格に階層的に管理されていますし、
      図書館の蔵書は分類番号を使って階層的に管理されています。
      個人的なデータであっても、
      現在のパソコンのファイルシステムを使う限り、
      フォルダを使って階層的に管理しなければなりません。
      
      <p/>
      一方、世界最大のデータであるWebは階層的に管理されていませんし、
      手持ちの書籍や文房具などは
      手間をかけて階層的に管理するほどでもないので、
      適当に管理している人がほとんどだと思われます。
      
      しかし、きちんと管理された大規模な階層データの種類は多いので、
      これらを簡単に検索したり閲覧したりする方法は現在も将来も重要でしょう。
      
      <p/>
      明示的に階層が存在しないものでも、
      あたかも階層が存在するかのように扱うことができる場合があります。
      例えば辞書の場合、
      「aで始まる単語」の下に「aaで始まる単語」「abで始まる単語」のような階層を考えれば
      階層データと同じように扱うことができます。
      つまり、一意にソートできるあらゆるデータは
      階層的なデータとして扱うこともできるといえるでしょう。
      
      <h2>階層データの閲覧</h2>
      
      Webのように乱雑な構造のデータと比べると、
      階層的に管理された情報は対話的な閲覧/検索が比較的簡単です。
      
      図書館で本を捜したり
      辞書で単語を捜したりといった作業は日常的なものですし、
      計算機の上では階層メニューやフォルダ階層などを操作することは非常に一般的になっています。
      
      <p/>
      構造的に整理された大規模データを閲覧するために
      様々なインタフェース手法が利用されています。      
      
      計算機の画面に大量データを全部表示することは不可能ですから、
      なんらかの方法でデータの一部だけを表示する必要があります。
      
      対話的に表示部分を変更しながら大規模データを閲覧するために
      以下のような方法が日常的に使われています。

      <ul>
        <li>少しずつ順番に見る (e.g. スクロール、辞書や書籍をパラパラめくる)</li>
        <li>フィルタリングして表示量を減らす (e.g. Google検索)</li>
        <li>階層的に選択してだんだん細部を表示する (e.g. ファインダ、階層メニュー)</li>
        <li>注目点を部分的に拡大する (e.g. HyperbolicTree)</li>
        <li>直線的なめらかににズーミングする (e.g. GoogleMaps)</li>
      </ul>
      
      フィルタリングにより絞り込んだデータをスクロールして閲覧するように
      手法を併用もよく行なわれています。

      なにげなくこういうのを併用してると思うが、
      これらを組み合わせることもできるだろう => DragZoom

      <h2>ZUI</h2>
      
      階層メニューやファインダのような方法で大規模データを絞りこむ方法は、
      大規模データの一部分の選択を繰り返すことによる
      非線型なズーミングの一種といえます。
      
      これに対し、
      「Perlin Noise」
      で有名なKen Perlinは、
      2次元画面上に表現したデータ全体を線形になめらかに拡大したり縮小したりすることによって
      大規模データの閲覧をできるようにする
      「Pad」というZUI(Zooming User Interface)システムを1993年に提案し、
      インタフェース研究者の間ではかなり話題になりました。

      Padという単純な方法を使えば
      あらゆる階層データを楽に閲覧できるわけですから、
      CLI, GUIのつぎに来るのがZUIだと期待され、
      様々な類似システムや製品プロトタイプが作成されました。

      <p/>
      ところがPadやその後継システムは結局流行ることがなく、
      ZUIの試みは忘れられてしまったようです。

      流行らなかった理由はいろいろあるのでしょうが、
      二次元画面を自由に拡大縮小して目的の情報を得ることは
      普通のユーザには難しすぎたということが大きな理由のひとつだと思います...

      ズーミング操作も標準がない
      GoogleMapsでもうまくズーミングできなくて困ることがある
      マウスホイールでズームするのかスクロールするのかわからなかったり

      GoogleMapsは誰でも使えるが、抽象的なデータでやるのは難しい

      一部だけ抽出して、とかは難しい

      <h2>DragZoom</h2>

      Padのような純粋なZUIは残念ながら普及に成功しませんでしたが、
      スマホのような小さな画面で大規模データを閲覧/検索するためには
      ズーミングとフィルタリングが有効なことは間違いありませんから、
      誰でも使える簡単なインタフェースを工夫すれば
      ズーミングインタフェースが日の目を見ることがあると思います。
      
      非線型なズーミングとフィルタリングの組み合わせがよいと思われる
      
      <p/>
      私は
      スクロールバーを拡張してズーミングやフィルタリングを可能にした
      「LensBar」というシステムを提案していたのですが、
      これを簡単にした「DragZoom」というシステムを紹介します。

      <p/>
      直感的にフィルタリングとズーミングしようとするものです
      
      <blockquote>
        <img src="https://gyazo.com/5efe9490ba2501cb61fac435fefbe91c.png" width=400>
      </blockquote> 
      
      灰色の横線は、エントリが隠れていることを示しています。
      
      <code>libexec</code>をカーソルでクリックするか
      スマホなどの場合は指でタッチしてから右にドラッグすると
      下のようにズームされて表示されます。
      
      <blockquote>
        <img src="https://gyazo.com/e8c182efc5827b57950e06f4aa29800e.png" width=400>
      </blockquote>
      
      さらに右にドラッグを行うと、
      下のようにすべてのファイルが見えるようになります。
      
      <blockquote>
        <img src="https://gyazo.com/4b7f18c98cc45ddb1d7f076ddd613d65.png" width=400>
      </blockquote>
      
      このように階層構造をズーミングして詳細をブラウズする方法は
      TreeViewや階層メニューなどでもおなじみですが、
      DragZoomでは左右ドラッグで
      
      <p/>
      複数の指を利用できるスマホやタブレットでは
      ピンチ操作でもズームレベルを変えることができます。
      
      <h3>ドラッギングによるスクロール</h3>
      
      上下にマウスドラッグを行なうと画面をスクロールすることができます。
      
      <blockquote>
        <img src="https://gyazo.com/19fb983e24f8c0c820719cccb946a5c0.png" width=400>
      </blockquote>
      
      スクロール操作とズーミング操作は完全に可逆的なので、
      スクロールしたりズーミングしたりした後で
      カーソルをもとの位置まで戻すと
      画面は最初の状態に戻ります。
      
      <h3>フィルタリングとズーミングの組合せ</h3>
      
      テキスト入力枠に「ruby」と入力すると、
      以下のように
      「ruby」を含むファイルやディレクトリだけが表示されます。
      ファイル名が表示されるだけでなく、
      ディレクトリ構造も含めて
      
      <blockquote>
        <img src="https://gyazo.com/daec4f683bcfeacf727af3ace03c353a.png" width=400>
      </blockquote>
      
      この状態では「ruby」を含まないファイル名は全く表示されていませんが、
      「ruby」の部分をズーミングすると
      以下のように「usr」「include」なども見えるようになります。
      DragZoomでは、
      リストの各エントリに「重要度」を設定しており、
      マウスや指を移動したときはスレシホールドを変化させて
      スレシホールドより大きな重要度を持つ行を表示するようになっています。
      「usr」や「include」のように
      階層のrootに近いファイルには大きな重要度を与えているため、
      キーワードにマッチされていなくても表示されるというわけです。
      
      <blockquote>
        <img src="https://gyazo.com/0aa6324279c4837e6013dac920b8d0d5.png" width=400>
      </blockquote>
      
      <h3>階層が無い場合</h3>
      
      辞書データのように階層構造が存在しないデータでもズーミング検索できるようにするため、
      DragZoomでは仮想的な階層を利用しています。
      例えば
      a, b, c, d, e, f, g
      というフラットなデータがあるとき、
      それぞれに対して
      1, 2, 1, 3, 1, 2, 1
      という重み(重要度)を与えておいて、
      ユーザが操作する閾値を超えたものだけ表示されますから、
      ユーザのズーミング操作によって
      d, bdf, abcdef
      のように表示が変化することになります。

      <blockquote>
        <img src="https://gyazo.com/ca4ee6747874736af660e8d308f2daf7.png" width=400>
      </blockquote>
      
      少しズームすると以下のようになります。
      
      <blockquote>
        <img src="https://gyazo.com/094a53375f1b014dca35cad8e9bc1850.png" width=400>
      </blockquote>
      
      さらにズームすると単語の意味が表示されます。
      
      <blockquote>
        <img src="https://gyazo.com/ac99c7f31cc05756daafc51fa63ed4f3.png" width=400>
      </blockquote>
      
      曖昧検索機能を持っているので、適当なキーワードを入力しても
      最も近いエントリが表示されます。
      
      <blockquote>
        <img src="https://gyazo.com/eef271c9690b8b38a40e9abbddfb6767.png" width=400>
      </blockquote>
      
      <h3>その他の応用</h3>
      
      <blockquote>
        <img src="https://gyazo.com/eef271c9690b8b38a40e9abbddfb6767.png" width=400>
      </blockquote>
            
      <h3>問題</h3>
      
      スクロールバーを使わなくても簡単に大規模データの閲覧や検索ができることは
      大変メリットがあるはずであり、      
      おおくの大規模データは階層的に構造化されていますから
      DragZoomは広範囲なデータの検索に利用することができるのですが、      
      残念ながらこの手法を普及させることには成功していません。
      
      普及がうまくいかない最大の理由は
      左右ドラッグでズーミングを行なうというインタフェースに慣れるのが難しいからだという気がします。
      

      こういうDrag+Zoomというのは慣れてないから流行しないけれど
      慣れるとかなり面白い。
      スクロールバーが必要ないというメリットがある

      今後に期待したいところ。

      なんらかのきっかけによってズーミングインタフェースが普及してほしいものだと思っています。

    </div>
  </body>
</html>
