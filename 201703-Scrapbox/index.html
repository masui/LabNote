<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>コロンブス日和 - Scrapbox</title>
    <style type="text/css">
      body {
        background-color:#ffffff;
        font-size:12;
        font-family: "Hiragino Kaku Gothic ProN","メイリオ", "sans-serif";
      }
      a { text-decoration: none; }
      li.bold { font-weight: bold; }
      div.body { width:340pt; }
      div.left { float:left; width:10%; font-weight:bold;}
      div.right { width:50%;}
      h1 { background-color:#4d4; padding:8pt;}
      code { background-color:#eee; }
      pre { background-color:#eee; }
    </style>
    <script type="text/javascript">
    //setTimeout("location.reload()",1000*5);
    </script>
  </head>

  <body>
    <div class='body'>
      <h1>コロンブス日和 - Scrapbox(2)</h1>

      先月号ではScrapboxの概要について紹介しましたが、
      今回は各種の機能と実装について詳しく紹介したいと思います。

      <h2>Scrapboxの記法</h2>

      Scrapboxは簡潔なマークアップ記法により
      他のScrapboxページへのリンクを貼ったり
      外部Webページへのリンクを貼ったり
      画像を表示したり
      文字修飾を行なったりすることができます。

      <h3>テキストのマークアップ</h3>

      特殊な記号をテキストの中に記述することによって
      特別な意味を持たせたり
      テキストの見栄えを修飾したりする方法が
      昔から広く利用されています。

      たとえば
      HTMLでは
      「<code>&lt;b&gt;</code>ボールド<code>/&lt;b&gt;</code>」
      のように記述したものをブラウザで閲覧することにより
      テキストの一部を太字にすることができます。

      <br/>
      「<code>&lt;b&gt;ボールド&lt;/b&gt;</code>」
      のような記述のことを
      「マークアップ」と呼びます。
      実際「HTML」は「HyperText Markup Language」
      の略であり、
      Webのようなハイパーテキストを記述するための規格です。

      <br/>
      マークアップ言語の歴史は古く、
      HTML以外にも様々なものが利用されています。
      現在広く利用されているマークアップ言語としては
      TeXが有名ですが、
      それ以前にも
      ScribeやRoffのようなマークアップ言語も広く使われていました。
      Roffは汎用のマークアップ言語としては現在人気がないようですが、
      Unixのmanコマンドの記述手法として現在でも利用されています。

      <blockquote>
	manの記述とそのtroff出力
      </blockquote>

      <br/>
      HTMLは現在最も広く利用されているマークアップであり、
      あらゆるブラウザで利用できるのが便利ですが、
      仕様が巨大ですし、
      単に文字を太くするだけのために
      「<code>&lt;b&gt;</code>」「<code>/&lt;b&gt;</code>」
      のように沢山の記述をしなければならないのは面倒です。

      このため最近は
      Markdown
      のような簡易マークアップ言語の人気が提案されています。
      Markdownは
      HTMLに比べると記述がかなり簡潔になっていますし、
      GitHubで利用できるようになっているので
      プログラマの間では人気が高いようです。

      <blockquote>
	Markdownの表現
      </blockquote>

      一方、Markdownで画像やリンクを表現する文法は非常に複雑なため
      覚えることが困難です。
      たとえば、
      ....
      のような記法は私はなかなか覚えられなくて苦労しています。

      このような記法を覚えるぐらいなら
      普通にHTMLを書けばいいと思ってしまいますが、
      実際MarkupとHTMLを併用して使われていることもあるようです。

      それならばMarkupは存在価値を疑問に思ってしまいます。

      <h3>Scrapboxのマークアップ</h3>

      <h4>カッコを使ったマークアップ</h4>

      Scrapboxでは極力簡単に目的を達成できるような
      簡単なマークアップ記法を採用しています。

      基本的には

      <ul>
	<li>あらゆるマークアップは [ ... ] で表現する</li>
	<li>曖昧な記述を許す</li>
      </ul>

      という方針にもとづいています。

      以下にScrapboxのマークアップ記法を書きます。

      <ul>
	<li>内部リンク</li>

	テキスト内の文字列を [, ] で囲むと、
	囲んだ部分がその名前へのリンクになります。

	<blockquote>
	  xxx
	</blockquote>

	<li>外部リンク</li>

	外部のWebページにリンクを貼りたいときは、
	[URL タイトル]
	と書けば....
	a href= ... タイトル
	のようになります。

	URLとタイトルの順番が逆でも同じ結果になるので
	順番について気にする必要はありません。
	
	URLを記述するとリンクになります。
	
	<li>画像表示</li>

	[画像URL] と書くと
	画像が表示されます。

	[画像URL リンクURL]と書くと
	画像が表示され、URLへのリンクになります。

	これらのURLの順番が逆になってても大丈夫です。

	<li>文字修飾</li>

	[...] という記法で太字や斜体も表現できます。

	[* abc] は <b>abc</b>になり、
	[/ abc] は <i>abc</i>になります。
	[/* abc] と書くと <i><b>abc</b></i>になります。

      </ul>

      <h4>カッコ以外のマークアップ</h4>

      プログラムテキストや
      コマンドラインなどを表現するとき、
      courier的に表示をしたいことがよくあります。
      こういう場合のために、
      Scrapboxでは

      <ul>
	<li>`zzzz` と書く</li>
	<li>$ abc</li>
	<li>% abc</li>
      </ul>

      <h3>アイコン記法</h3>

      [abc.icon]と書くと、「abc」というページの代表画像が
      アイコンのように行の中に表示されるようになっています。

      たとえば「増井」というページに増井の画像が登録されているとき、
      「masui.icon」と記述すると
      その画像が行の中に表示されます。


      水平線
      わかる
      チェック

      アイコンを沢山並べることもできます。
      たとえば
      [masui.icon*10]と記述すると、
      沢山並ぶので...

      <h3>コード記法</h3>

      プログラムの

      Gistのようなサービスにコードを貼ることがありますが、
      Scrapboxページの中にコードを記述することができます。

      <blockquote>
	コード記法
      </blockquote>

      コード記法したデータは
      URLでアクセスすることができます。

      <h3>ハッシュタグ記法</h3>

      Twitterなどでは、
      「#」記号の後に書いた文字列を
      「ハッシュタグ」というキーワードとして利用するというやり方が
      標準的になっています。
      Scrapboxでハッシュタグを記述すると、
      その名前のページへのリンクになります。
      ハッシュタグ記法に慣れた人には便利でしょう。

      <h2>便利な機能</h2>

      <h3>画像や動画の埋め込み</h3>

      <h3>アウトライン編集</h3>
      
      <h3>行の古さの表示</h3>

      Wikiページを長年利用していると、
      新しく編集しても
      その部分に気付きにくいことがあります。

      Scrapboxでは、
      行の古さが左側に表示されるようになっているので、
      どの行が新しいか古いかをなんとなく知ることができます。

      <blockquote>
      </blockquote>

      <h3>プレゼンモード</h3>

      プレゼンには
      PoserpointやKeynoteのような専用ソフトウェアが広く利用されています。

      これらのソフトウェアは高機能で便利なのですが、
      ブラウザと連動して利用することはできないので困ることもあります。

      Scrapboxには「プレゼンモード」という機能があり、
      ページを使ってスライド表示することができます。

      ブラウザの機能を
      

      複雑な表示が必要ないときにはこれで充分です。
      

      私は授業の資料をすべてScrapboxで作成しています。

      <h3>入力補完</h3>

      Scrapboxで沢山のページを作っていると、
      ページ名で混乱することがあります。

      ページ検索すればわかるのですが、
      ハッシュタグやカッコの後でページ名を入力しようとするとき、
      すでに存在するページ名に対して曖昧検索を行なって
      候補を表示するようになっているので、
      似て異なるページを作ってしまう可能性を減らしています。

      <h3>ソート機能</h3>

      Scrapboxのページは
      編集時刻の順に表示したいことがあるでしょうし、
      アクセス時刻順に表示したいこともあるでしょう。

      
      <h3>ピン機能</h3>

      <h3>API</h3>

      Scrapboxページは基本的にただのテキストなので
      ページのテキストは様々な用途に利用することができます。

      私は「Slime」や「Gyaim」といったIMEを使っているのですが、
      この辞書データはすべて
      Scrapboxで管理しています。

      <blockquote>
	辞書編集
      </blockquote>

      <h3>設定</h3>

      ブログなどに利用するScrapboxのページは誰に対しても公開したいでしょうし、
      個人的なメモは誰に対しても秘密にしておきたいでしょう。

      Scrapboxでは、
      ページを公開するかどうかを設定可能であり、
      またページを編集可能なユーザを設定できるようになっているので、
      内容に応じて細かくアクセス制御を行なうことができます。

      <h2>Scrapboxの実装</h2>

      Scrapboxのソースコードは公開されていませんが、
      基本的な実装手法を紹介します。
      <br/>

      Scrapboxの編集機能や同時編集機能は
      Reactを利用してすべて自前で実装しています。
      AtomやGitHubの実装を参考にして

      <h3>情報のinport/texport</h3>

      情報を一本化する場合、バックアップをしておかないと心配でしょう。
      ScrapboxではデータをJSON型式でインポート/エクスポートできるので
      時折どこかにバックアップしておけば安全です。

      <h2>Scrapbox利用例</h2>

      Scrapboxの利用例は
      先月号でもいくつか紹介しましたが、

      <h3>個人メモとしての利用</h3>

      個人用のちょっとしたメモは
      パソコンのローカルファイルとして保存している人が多いと思いますが、
      ローカルにファイルを保存すると
      別のマシンやスマホから見ることができませんから、
      ちょっとした情報でも
      Scrapboxのようなクラウド上に保存しておくのが良いと思います。

      私は
      電話帳も予定表もTODOリストもすべてScrapbox上で管理しているので
      スマホでもパソコンeでも同じように情報を管理できています。

      昔はデータを同期したり
      共有ファイルとすることが多かったようですが、
      完全に一本化しておくのが一番便利だと感じています。

      <h3>ブログとしての利用</h3>

      各種のブログサービスが利用されていますが、
      Scrapboxを公開設定すれば
      簡単なブログのように利用することもできます。

      shokai

      masui
      
    </div>
  </body>
</html>


