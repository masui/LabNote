<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>コロンブス日和 - SmoothSnap</title>
    <style type="text/css">
      body {
        background-color:#ffffff;
        font-size:12;
        font-family: "Hiragino Kaku Gothic ProN","メイリオ", "sans-serif";
      }
      a Gear text-decoration: none; }
      li.bold { font-weight: bold; }
      div.body { width:340pt; }
      div.left { float:left; width:10%; font-weight:bold;}
      div.right { width:50%;}
      h1 { background-color:#4d4; padding:8pt;}
      code { background-color:#eee; }
      pre { background-color:#eee; }
    </style>
    <script type="text/javascript">
    //setTimeout("location.reload()",1000*5);
    </script>
  </head>

  <body>
    <div class='body'>
      <h1>コロンブス日和 - SmoothSnap</h1>

      パソコンやスマホのアプリ上で
      各種の値を細かく調整したいことがよくあります。

      スライダなどを使ってパラメタ値を設定することはよくありますが、
      正確に細かい値を設定することは困難です。
      
      Macの色設定画面のように0〜255の数値を設定するだけの場合でも
      マウスで正確に値を設定するのは難しいので
      数字を入力するテキストボックスが別に用意されています。

      <blockquote>
	<img src="https://gyazo.com/797377e6478851979ba54f8149f2560c.png" height=200>
      </blockquote>

      秒単位で時刻を設定したいような場合は
      事態はさらに絶望的です。
      設定可能な値は24×60×60=86400通りあるにもかかわらず、
      スライダのドット数は数百程度しかありませんから、
      1ドットスライダを動かすだけで値が何百も飛んでしまうことになります。

      このため、
      細かく時刻を指定したい場合は
      時間/分/秒を別々に指定するのが普通になっています。

      <p></p>
      値を細かく設定したい場合がある一方、
      大まかな値をすぐに設定したい場合もあります。

      たとえば時刻を10時ちょうどに設定したい場合、
      前述のようなシステムでは
      時間を10に / 分を0に / 秒を0に設定する必要がありますが、
      このようなキリの良い時刻を指定したい場合でも
      分や秒まで細かく指定するのは面倒です。
      キリの良い値はもっと簡単に設定できるようになっていてほしいものです。

      <p></p>
      画面上のオブジェクトを編集するときも、
      値を微調整したりおおまかなに揃えたりしたくなることがありますが、
      図形エディタでマウスを使って位置や大きさを細かく調整したい場合、
      画面を拡大したり縮小したりしながら注意深く操作する必要があります。

      また、非常に長いページをスクロールして眺める場合、
      マウスで小さな動きをしても大きくスクロールしてしまい、
      うまく操作するのが難しい場合もあります。

      <p></p>
      このように、
      一般的ななスライダやスクロールバーでは
      細かく値を調整したり
      大まかな値を設定したりすることが簡単ではないのですが、
      スライダやスクロールバーの挙動を工夫すれば
      こういった問題を解決できる可能性があります。

      <p></p>
      <!--
      DragZoomで紹介したようなズーミング手法を使えば、
      拡大して細かい操作を行なったり
      縮小しておおまかな操作を行なったりすることができるはずですが、
      微調整するたびに拡大したり縮小したりするのは面倒なので、
      もっと簡単な別の手段があれば嬉しいところです。
	-->

      <h3>微調整のインタフェース</h3>

      マウスを使ったGUIで値を微調整するための様々なインタフェースが
      昔から研究されています。

      <p></p>
      普通のスライダで秒単位で時刻を設定することが不可能なのであれば、
      微調整専用のインタフェースを追加すればよいでしょう。
      スライダやスクロールバーにボタンを追加し、
      ボタンを押したら最小単位ずつ位置を移動させられるようにしたものがよく使われているいました。

      <blockquote>
	<img src="https://gyazo.com/0e2e1cfc2a51263b1e5812ec302225d5.png" height=200><br>
	1ステップずつ移動可能なスクロールバー
      </blockquote>

      <blockquote>
	<img src="https://gyazo.com/157c3330135cd06cfcd77b4973fdb7c4.png"><br>
	様々なスライダ
      </blockquote>

      スライダのノブを拡張して、微調整を可能にしたシステムもあります。
      たとえば
      90年代にメリーランド大学で開発されたAlphaSliderというGUIツールでは
      スライダのノブを上下に分割し、
      ノブ上でクリックした位置によって微調整/粗調整を選べるようになっています。

      <blockquote>
	<img src="https://gyazo.com/f1a890148e9118f70845ffeea1cf5450.png" width=300><br>
	AlphaSlider
      </blockquote>

      私が昔開発したFineSliderというシステムでは、
      スライダのノブ以外のバックグラウンドをクリックするとゴムのようなものが出現し、
      マウスでゴムを引っ張るような動きをすることによって
      ノブ位置の微調整を可能にしていました。

      マウスカーソルがノブの近くにあるときはノブがゆっくり動き、
      遠くにあるときは速く動きます。

      <blockquote>
	<img src="https://gyazo.com/2931288cd1eef1ccf101a4ea5f62b7b2.png"><br>
	FineSlider
      </blockquote>

      <p></p>
      iPhoneの音楽再生アプリでは、
      再生時刻を指定するためのスライダをタップしてから
      指を下にずらしてスライドすると
      ずらさない時よりも細かく時刻を調整できるようになっています。

      <blockquote>
	<img src="http://arigato-ipod.com/news-image/121111scrubberbar2.jpg">
      </blockquote>

      <h3>場所をおおまかに指定する</h3>

      キリの良い時刻を簡単に指定したり
      図形をきちんと揃えたりするためには、
      微調整とは異なる手法が必要です。

      <p></p>
      図形を動かして隣の図形にぴったり揃えるような操作をしたいとき、
      「スナッピング」というテクニックがよく使われます。
      スナッピングとは、
      ドラッグ中の図形が別の図形やグリッドの近くに来たとき
      そこにぴったり揃うように移動するもので、
      ユーザが正確でない操作をしても
      意味のある場所に移動させることができるので便利です。

      <p></p>
      スナッピングは図形編集ではおなじみのテクニックですが、
      キリの良い値にパラメタを設定するような場合でも利用できます。
      10:00かっきりに時刻をあわせたい場合や、
      次の曲や次のチャプタに動画を移動させたいような場合にも使えます。

      <h3>微調整とスナッピングの併用</h3>

      スナッピングは図形を揃えるのには便利ですが、
      グリッドや隣の図形から微妙にずれた位置に移動したい場合に困ります。

      たとえば
      隣の図形から1mm離れたところに図形を持っていきたい場合、
      スナッピング機能を使って
      隣の図形にぴったり接触させてから
      微調整操作で1mm移動させるといった操作が必要になります。

      音楽や動画を見る場合でも、
      次の曲やチャプタの
      1秒前から再生したいような場合、
      スナッピング機能を使って次の場所に移動してから
      微調整操作で1秒戻りたくなるでしょう。

      つまり、
      スナッピングのようなおおまかな操作の恩恵を受けつつ
      微調整も可能であるという
      巧妙なインタフェースが欲しいところです。
      
      <h2>SmoothSnap</h2>

      遠くに旅行する場合、
      目的地の近くの空港まで飛行機で飛んでから電車やバスに乗り、
      最後に徒歩で目的地まで行くことができます。

      このように、
      移動の必要があるときは、
      移動する距離によって移動の速度や粒度を変えることによって
      様々な場所にうまくに移動できるようになっているわけですが、
      スライダやスクロールバーにおいても同様の方針が使えればいいでしょう。

      <p></p>
      AlphaSliderやFineSliderの場合、
      通常とは異なる機能を使うために特別な場所をクリックしなければならない点で、
      現在のユーザにとって直感的とはいえないでしょう。
      
      iPhoneの微調整機能もやはり直感的とはいえませんし
      そういう機能があることに気付く表示もありませんから、
      この機能を知らない人も多いと思われます。

      もっと単純に、
      現在と同じ方法で自然にスライダやスクロールバーを操作するだけにもかかわらず
      
      おおまかなスナッピング動作や微調整が可能にするために
      <b>SmoothSnap</b>
      という手法を開発しました。

      <p></p>
      SmoothSnapでは以下の方針で値や位置をコントロールします。

      <ul>
	<li>ノブを大きく移動した場合は重要なポイントにスナッピングする</li>
	<li>ノブを少しだけ動かした場合は細かい粒度で連続的に値を変化させる</li>
      </ul>

      とても単純な方法ですが、
      スライダやスクロールバーをこのように拡張するだけで前述のような要求に
      うまく対応することができます。
      以下でこの例をいくつか示します。

      <h3>時刻を細かく設定する</h3>

      前述のように、
      時/分/秒の設定は86400通りの可能性がありますから、
      これをひとつのスライダで設定することは困難です。
      このため、乗換案内のように時刻指定が必要なサービスでは、
      下図のようにメニューを利用して時刻指定を行なうことが多いようです。

      <blockquote>
	<img src="https://gyazo.com/86d12a61e6a44801d9611d1d3890b57d.png">
      </blockquote>
      
      SmoothSnap対応したスライダのノブを動かそうとするとき、
      マウスをクリックした後のマウスの移動距離が少ない場合は
      微細な調整が可能であり、
      移動距離が大きくなると粒度が粗くなって分単位/時間単位で
      スナッピングするようになっているので、
      スライダのノブを動かすだけで秒単位で時刻を設定することができます。
      
      <blockquote>
	<img src="https://gyazo.com/908b1e542fa6e0288b8d9aaf8edb59dc.png"><br>
	初期状態
      </blockquote>
      
      <blockquote>
	<img src="https://gyazo.com/40d5d65c98293ade630886f26711866b.png"><br>
	1秒単位の設定
      </blockquote>
      
      <blockquote>
	<img src="https://gyazo.com/2376cd2696745fa99aa75d0d4ea30a10.png"><br>
	10秒単位の設定
      </blockquote>
      
      <blockquote>
	<img src="https://gyazo.com/86215c926e6d1f415d537b5ad0ab24ba.png"><br>
	1分単位の設定
      </blockquote>
      
      <blockquote>
	<img src="https://gyazo.com/17ff5a6fa23fd5bc66220e0b1fd5b90d.png"><br>
	10分単位の設定
      </blockquote>
      
      <blockquote>
	<img src="https://gyazo.com/f19cc7c16048d9460782b37bdafc57c8.png"><br>
	1時間単位の設定
      </blockquote>
      
      「12:34:56」のように細かい分/秒までを正確に指定したい場合、
      まずノブを大きく動かしてスナッピングを活用して目的の時刻に近いキリ時刻(e.g. 12:00:00)まで移動し、
      一度マウスを放してから再度ノブを動かすことにより目的の時刻にさらに近いところ(e.g. 12:30:00)まで移動し、
      ... という操作を繰り返すことによって徐々に目的の時刻に近付けていくことができます。
      <p></p>
      
      おおまかな粗い操作をするとキリ時刻を指定することができ、
      細かい操作を繰り返すと詳細時刻を指定することができることになるのは、
      微妙な操作をするほど細かい調整が可能なので、
      人間の直感に近く感じられます。
      
      <h3>大きな文書のスクロール</h3>
      
      大きな文書が1ページのWebページになっているとき、その構造を把握し
      ながらブラウジングを行なうことは難しい。図\ref{peephole}は、著者
      が執筆した30個のWeb記事を並べてひとつのページにしたものの一部を
      ブラウザで表示している様子を示している。ブラウザ画面では大きな
      Webページのごく一部しか見えていないため、スクロールを行ないなが
      らページ全体の構造を把握するのはかなり難しい。
      
      右側の画面では章タイトル(「第28回...」)が見えているので大体どの
      あたりをブラウズしているのかがわかるが、左側の画面はタイトルが見
      えていないので、ブラウザ画面を見るだけではどの章なのかがわからず、
      上下にスクロールしてはじめて位置がわかることになる。
      
      \includegraphics[width=2.0\columnwidth]{figures/peephole.eps}
      \caption{大きなWebページのブラウジング}
      
      SmoothSnapを利用して同じページをブラウジングしている様子を図
      {scrollbar}に示す。スクロールバーのノブをドラッグしたとき、ノブ
      の移動量が小さい場合は通常の場合と同様にスクロールが行なわれるが、
      移動量が大きい場合は章や節の先頭でスクロールがスナッピングするた
      め、常に\texttt{h2}や\texttt{h3}が画面の上部に位置することに
      なり、全体的にどういう章や節で構成されているのかを容易にブラウズ
      して把握することが可能になっている。

      \includegraphics[width=.90\columnwidth]{figures/scroll0.eps}\\
      (a) 初期状態
      
      \includegraphics[width=.90\columnwidth]{figures/scroll1.eps} \\
      (b) わずかに下にドラッグした状態

      \includegraphics[width=.90\columnwidth]{figures/scroll2.eps} \\
      (c) もう少しドラッグした状態。\texttt{h3}にスナッピングしている。

      \includegraphics[width=.90\columnwidth]{figures/scroll3.eps} \\
      (d) かなり下方までドラッグした状態。\texttt{h2}にスナッピングしている。

      ドラッグによるスナッピング

      <h3>議論</h3>

      SmoothSnapを既存システムと比較し、その利点と欠点について考察する。

      <h4>特殊な操作や部品が不要</h4>

      AlphaSliderやPopupVernierでは、標準的なスライダノブ以外に微調整
      用の特殊なGUI部品を使用しているが、SmoothSnapスライダもスクロー
      ルバーも外見は標準のものと変わりがなく、動作の違いもスナッピング
      だけであるから、特殊な知識なく利用できることが期待される。

      <h4>直感的な操作</h4>

      大雑把な操作をすると大雑把に意味のある反応が起こり、
      丁寧な操作をすると細かい制御ができるというSmoothSnapの特徴は
      直感に一致している。

      <h4>可逆的な操作</h4>

      FineSliderや
      ASDZでは
      ユーザの操作に対するシステムの反応が可逆的でないため、
      スクロールの結果勢い余って目標地点を通り越してしまった場合は
      逆向きの操作をして戻る必要がある。
      SmoothSnapではスクロール位置がマウス移動量の関数になっているため、
      目標地点を通りすぎてもマウスをもとに戻すだけで前の状態に復帰することができる。

      <h4>汎用性</h4>

      SmoothSnapによるスクロールは単純であるにもかかわらず
      CAS\cite{Ishak_ContentAwareScrolling}と同様の効果を得ることができる。
      一方、CASは\ref{clockset}節のような詳細値制御に利用することはできない。

      <h4>Web上ですぐ実装できる</h4>

      SmoothSnapは原理が単純でありブラウザのJavaScriptで簡単に実装できる。

      <h3>欠点</h3>

      SmoothSnapでは、ユーザのマウス操作の量とノブの移動量が一致しない
      ため混乱を生じる可能性がある。また、はじめて使う人間がすぐに原理
      を理解して使いこなすことは困難であると考えられる。最低限の利用法
      をなんらかの方法でうまくユーザに知らせる方法が必要であろう。

      <h2>結論</h2>
      
      普通のスクロールバーで大きなWebページをブラウズするのは難しいた
      め、巨大な文書をWebに載せる場合は階層的に分割するのが普通である。
      また、細かい値をスライダで設定することは難しいので、複数のGUI部
      品を利用することが多い。SmoothSnapにもとづくGUI部品は、原理が単
      純であるにもかかわらず広い範囲で利用することができ、上記のような
      問題を解決できる可能性があるので、さらに広い範囲の応用について検
      討したい。

    </div>
  </body>
</html>
